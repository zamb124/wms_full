(function(){"use strict";var t={3015:function(t,s,e){var a=e(9242),o=e(3396);const i={key:0},n=(0,o._)("div",{class:"blackout"},null,-1),c={class:"blackout-loader"};function r(t,s,e,a,r,l){const u=(0,o.up)("pacman-loader"),d=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[t.packman_show?((0,o.wg)(),(0,o.iD)("span",i,[n,(0,o._)("span",c,[(0,o.Wm)(u,{loading:t.loading,color:t.color,size:t.size},null,8,["loading","color","size"])])])):(0,o.kq)("",!0),(0,o.Wm)(d)],64)}var l=e(7279),u={name:"App",components:{PacmanLoader:l.Z},data:function(){return{packman_show:!1}}},d=e(89);const A=(0,d.Z)(u,[["render",r]]);var p=A,m=e(678),k=e(7139),_="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAQEBIQEhIQEhAQEBAPEBUVEBIQEBUQFRUYFxUSExUYHiggGBolGxUVITEhJSkrLi4uFx8zODMtNygtLisBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAaAAEAAwEBAQAAAAAAAAAAAAAAAwQFAgEH/8QAPRAAAgEBAwgHBwMDBAMAAAAAAAECEQMEIQUSMUFRYZGxIjJxgaHB0RNCUmJykuEzgvAjsvEUU6LCFTSD/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APuIAAAAAAAAAAAAAAAAAAAEbtofFH7kBICP2y+buhJrjQe0fwS/4rmwJAR50/hj3ydeQpPbFftb8agSAj9m/jl3KNOQ9itsvvkuTAkBFCKUmlocU+9N1fiiUAAAAAAAAAAcStKOiTbpXCnm9wHYI86fwx+5+gpPbH7W/MCQEfs38cuEfQ8dlHW5ffJeYEpG7eHxR+5ETdiv9vwbDvtmtfBMCX2y+b7JNch7R/BL/ivMrvKMdSl4IjeUdkfH8AXM6fwx+515Ck9sftb8ame8oT+Vdz9Th3u0fveCA0/Zv45cI05HjslrcvvkvMyXbSemUuLOANWXsVp9n4Nh3yzWvgmZQA0nlCOpS8CN5R2R8fwUQBaeUJ7IrufqcO+Wj97wRAAO3bSfvS4s6ukv6kXvpxwIjqzdJJ7Gn4gbEuvF7pLvwfkyQjtdMXslzTXNokAAAAAAAAAEb663xl4ONObJCO00w+pruzX6ICtfbzKEqKlKJ6MdZUd7tH73gkT5UWMXua4f5KQHbtZPTKXFnAAAAAADuxsnN0X4QHBLZ3actEX34czRu90jDe9r8thPKSWLaS34AZiyfP5eL9DyVxmtSfY/UvO92fxLxZ1C8QeiS5AZE4NYNNHJuyimqNVRQvVxpjHvXoBRAAAAADw9AGxaOsE/ol3JpsmK1n0rGnyNeFCxF1VduIHoAAAAAAABHb6F9UP7kvMkI7x1JbotrtSwArZUXRi/mpxX4M41coL+m9zT8aeZlAAAAAAHsIttJaXgbF3sVBUXe9rKeToJZ03oiqepatbWSi6QlXVofJgSW2dmvNpnaqmNaSbfSrXea1leE1inF66ppcWQ3mxhaYxcc/tWPaBmg9lFp0eDR4BPYXqUN62Py2GpZWqkqr+bjEJ7nbZktzwfqBNlC706a/d6lI3ZRTTT0PAxLSGa2tjoByAAAAA1cnPoLc2vPzJbv1I7kk+1YMrZLfRkt9eK/BZsNDWyUvFt8mgJAAAAAAAADxo9AFaeNj/80++lTKNiyVYtb5x7s5pGMB6AAAAA07vGljvknxeC8jq+XhwpRJ1r4Hlg62cO2PhLHkyDKjxitib4/wCAOllHbHx/B1/r4PBp8E0ZwA0faWD0qP2Y8aD2Ng9a+9rwqZwA0f8Ax8HolLucX5HEsm7J8Y18yidK0ktEpLvYGvDPSSpF0SVc5qu/QUr3d5yk5KLxprjp4kKvVovefg+Z2r/Pc+1egEMrCa0xlwb5HElTTVdqa5l2OUXrin3tHccorXF9zTAzk6npou9WUtK4xTPKXd/CuxOHoBxkt4yW1J8P8l2z60+1PuzUvJkFlY2adYSo9GE87nUmVm021LFpLFJ4KuilNoEoI+l8r4x9RnS+Fd0qvxoBIDmE61waptp5HQAAAAABHZaZ/V/1T5tmPaqkmtja8TYj15fTF9/S9EZd8VLSXbXiqgQgAAAAL9wnVRj8M2+5xfmQ5RfT7El5+Z1kxdNvZFri16EV8dbSXbTgqAQgAAAAB3ZWMpaE3y4lq53OvSlo1LzZoaFuS1AZ0cny1tLixLJ0tTT4okllFaot9roI5RWuL7nUCna2Eo6Vht0ojNqytozWDrtWvgVL3cvej3r0AoAAAE6aMAAJI28170uLZbuFvOUmm6pRb0LTVFAvZLWMnuS5gXLPTL6vJLyJCOx0ful/cyQAAAAAAjfXW+MvBxpzZn5RXT7Un5eRoWmmH1Nd2a35IpZUWMXtTXD/ACBSAAAAAXslLrv6Vz9SnauspPbJvxL+TcISfzN8IozgAAAFi5WOdLHQsX5Irmpk2NIV2tvhh5ASXm3zI116Et5zc7xnrHrLT6lLKE6zpqiqeb/m4hsLVwkmu/etgE9/sM15y0S8GVTaaU47VJGPa2bi2nq/lQPIyadVg0a10vGet60+pkE9ytKTW/ovv/IHd/sc2VVolz1lU1r/AArB7qMyQAAAGjkxdGT+bkvyZxo3ZUsW9qm+a8gLNh1Y/SuRIAAAAAAAR2+hfVDxklyZWyoujF76cV+CzeOpLdFtdqxRFlBf03uafjTzAygAAAAGjYYWD7J+LdDONC0wsEvlhxwr5meAAAA1rj+nHv5syTRyZadFx2OvcwKd7XTl2kRcylZUalqeD7f5yKYFzJ9vR5j0PR27CxfrDOVV1o+K2GWa1zt8+OPWWD9QMk7sOvH6o8ye/wBhmuq6svBjJ1lWWdqjzAvXvqS7GY5p5SnSFPifgsfQzAAAAGrZKllHfmeMl6mSbTVMxb0uEX6ASgAAAAAAA8arhtIVDPs0nrjHjQnIlY0wzpU2dHhoqBAsnR1uXgjtXKzWri2S+xXzffL1CsIfDH7UBElYr/b8GzqdslF0UqpOnQklo7CcjttFNrUX2NpPmBWyjhBJbUu5JmcX8qPqrtfIoAAAAJLC1cJJ8d6IwBtvNnHbFoy7xdZQ3x2+p5dry4b1rXoaVjeYy0PHY8GBjklhauEk+O9GrO7wemK4UEbtBe6uYHsoqcdqkv4xCMYRpoS0+rPLW3jHS8dmszbzenPDRHZ6gc3m2z5V1aF2EQAAAAewVWltaRtS60eyT78F5sybqqzj214Ymquu90VTvbryQEgAAAAAAAAAAAAAR2vurbJeFX5Eh5KKeDxQEF5uue060oqaKlaWTnqkn3ULvsY/Cl2Kj4oeyW2X3SfNgZzuE9z7H6nDutovdfg+RqZj+KXCPoKT2x+1+oGO7KS0xku5nJtVnsj9z9A5PXBv7fUDFBrShZ64f8HzSI5WFjuX7mnwYFCNrJaJS4sO2k9MpcWXv9BB4pvimjl5O2S8PyBQBbeT5anHxRxK5WmyvegK4JJXea92XCvI4lFrSmu1UA8AAFjJ6/qLcm/CnmaUOtJ9ke5Kv/ZlHJi6TeyNOL/Bestb2yfh0fICQAAAAAAAAAAAAAAAAAAAAAAAAAAcSs4vFpPuR57GOqq7G4rgiQAR+z2Sku+vOozZapcUnyoSACPp/K+MfUZ0tceEqvxoSACGVHpg/tUuVSN2Vk9MaftlFcS0AILCNnFvNaxp71dH+Tuw6qe2suLr5nbVT0AAAAAAAADKylbzjOik0s1F25Xj2ka+8sJdu0z8p/qrsjzPHWwtPlfjH1QEtpby9vm5zzc6KpqpRF2+XlWca6W8EjNlJO8JrFOUWuCOssPpr6fNgeRlb2nSTdNzzV3bTqzvlpZyzbSrW/TTanrNSEUkktCSS7CllhLMi9edRdjTryQF6Mk0mtDxXYelXJr/AKUe/my0BiXe0tpuik60rpp/NJPdb3OM8yeNXm46U9WJUuds4OsVV5tNe7YWbrYTnae0kqKudiqYrQkuAHWUbeUbRJSaVFzZfvNuoRzn2JbXsMzKn6q+mPNkmWXjBauk+QEStbe1xjWm55q4k90naqebOtGnp201Mu3SKUI0+FPiqkoGLayt4KsnJKtNK0nd3dvLNlWTi2ta0VxLOWOovrXJkmTP0o/u/uYFW+28lapKTS6OBpz0PsZkZQ/WX7OZrT0PsYGfkq2lKTzm30dfaQ2lraO1cIyfWaWNEdZG60vp8yG0tHG2lJKtJSAl/wBVa2UqTxWlp0eG1M0L7Nqzk06Oio+8y+lbz1KiSe6JpZQ/Sl2LmgM6xlbzVYuTSdOslzNG4xtEnn1rXCrTw7jMutvaRTUFVVq+i3j3GncbWck89UdcMGsO8CyAAAAAAADHyl+quyPM0b5d/aRprWMXvIb1F5/AtzlRVAwrqqWkU9Kmk+JpZSurmk11o6tqOYJuab21LlrOi36gMuwyjKCzZRrTDTR9jOJznbySSolwW9suSsJTxePad2blDB6NnoBYsbNRiorQlQ7CYAx8j9d/Q+aNgq3WFH3ehaAx8qfqr6Y82XsoXb2kcOtHFb9qPbxCsu5E85UQGRd79KzWa41pqeDW4s3W/StLRKiUaN7X3sknYuemj7dBJYWbi6avACDLHUX1rkyXJn6Uf3f3MlvEarvOrFUiu/mBnZWsXVTWiiT3NaGcTynJxpRJtUbryRpW0noRArtTpUVdusCPJNg0nJqlaJdm0r2f/sfvlyZq2Um9JGodOu9gZtvB2FopLqvFdmuP83F6+TUrFyWhpNcUS2qznQ6lCkaAZFzvvs01m1q66aeRp3K8+0TdKUdNNTlWNSaxhQCQAAAAAAAENpHHgezVWdyR6kBGoYntpGp2GgPUczR6AEVgegAcKJ0mAB5JCSPT0DxHp4egeSQQAHjR0eHoHMUKHqAHiR6wegco9QPQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//2Q==";const v={key:0,class:"row"},h={class:"col"},y={class:"card"},g={class:"card-body"},w={class:"card-title primary"},f={class:"text-primary"},b={class:"card-description"},x=(0,o._)("b",{class:"text-primary"},"Partner:",-1),q={key:1,class:"row"},z=(0,o.uE)('<div class="col"><div class="card bg-warning d-flex align-items-center"><div class="card-body"><div class="d-flex flex-row align-items-center"><h6 class="text-white"> Scan product </h6></div></div></div></div>',1),S=[z],U={class:"col"},J={class:"card"},O={class:"card-body"},T={class:"media"},N=(0,o._)("i",{class:"ti-file icon-sm align-self-center mr-3"},null,-1),D={class:"media-body"},E={class:"row"},K={key:0,class:"col-3"},F=["src"],P={key:1,class:"col-3"},W=(0,o._)("img",{src:_,class:"mw-100",alt:"image"},null,-1),H=[W],Q={class:"col-9"},B={class:"mb-1 text-primary"},j={class:"text-primary float-right",style:{color:"yellow"}},X={class:"mb-0 text-muted"},C=(0,o._)("b",null,"Shop:",-1),Z={class:"mb-0 text-muted"},L=(0,o._)("b",null,"Dest shelve:",-1),V={class:"mb-0 text-muted"},R=(0,o._)("b",null,"Dest shelve:",-1),M={key:2,class:"row"},Y={class:"card form-control"},I={class:"card-body"},G=(0,o._)("b",null,"Complete",-1),$=[G],tt={class:"row"};function st(t,s,e,i,n,c){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[t.pick?((0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("div",h,[(0,o._)("div",y,[(0,o._)("div",g,[(0,o._)("h4",w,(0,k.zw)(t.pick.name),1),(0,o._)("p",f,"Order from: "+(0,k.zw)(t.pick.location_id[1])+" to: "+(0,k.zw)(t.pick.location_dest_id[1]),1),(0,o._)("p",b,[x,(0,o.Uk)(" "+(0,k.zw)(t.pick.partner_id[1]),1)])])])])])):(0,o.kq)("",!0),t.pick?((0,o.wg)(),(0,o.iD)("div",q,S)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.stock_moves,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"row",key:t.id},[(0,o._)("div",U,[(0,o.Wm)(r,{to:{name:"StockMove",params:{sm:t.id}}},{default:(0,o.w5)((()=>[(0,o._)("div",J,[(0,o._)("div",O,[(0,o._)("div",T,[N,(0,o._)("div",D,[(0,o._)("div",E,[t.url_image?((0,o.wg)(),(0,o.iD)("div",K,[(0,o._)("img",{src:t.url_image,class:"mw-100",alt:"image"},null,8,F)])):(0,o.kq)("",!0),t.url_image?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",P,H)),(0,o._)("div",Q,[(0,o._)("h6",B,[(0,o._)("b",null,"Product: "+(0,k.zw)(t.product_id[1]),1),(0,o._)("b",j,(0,k.zw)(t.state),1)]),(0,o._)("p",X,[C,(0,o.Uk)(" "+(0,k.zw)(t.location_id[1]),1)]),(0,o._)("p",Z,[L,(0,o.Uk)(" "+(0,k.zw)(t.location_dest_id[1]),1)]),(0,o._)("p",V,[R,(0,o.Uk)(" done "+(0,k.zw)(t.quantity_done)+" out of "+(0,k.zw)(t.product_qty),1)])])])])])])])])),_:2},1032,["to"])])])))),128)),t.pick?((0,o.wg)(),(0,o.iD)("div",M,[(0,o._)("div",Y,[(0,o._)("div",I,[(0,o._)("button",{onClick:s[0]||(s[0]=(...t)=>c.complete&&c.complete(...t)),class:"btn btn-lg btn-gradient-success form-control",type:"button"},$)])])])):(0,o.kq)("",!0),(0,o._)("div",tt,[(0,o.wy)((0,o._)("input",{ref:"input",onFocusout:s[1]||(s[1]=t=>c.focusOver()),class:"scanner",type:"text","onUpdate:modelValue":s[2]||(s[2]=s=>t.scanner=s)},null,544),[[a.nr,t.scanner]])])],64)}var et=e(6265),at=e.n(et);let ot=!1;var it={url:!1,name:"lavkach_api",methods:{async setUrl(t){this.url=t},async login(t){const s={Authorization:"Token \tdsadsadas"},e=this.url+"/app/v1/login/",a=await at().post(e,{qr:t},{headers:s}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));ot=a.data.result},async mainView(){const t={Authorization:"Token \t"+ot.token},s=this.url+"/app/v1/main/",e=await at().post(s,{},{headers:t}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return e.data.result},async pickings(t){const s={Authorization:"Token \t"+ot.token},e=this.url+"/app/v1/pickings/",a=await at().post(e,{picking_type:t},{headers:s}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return a.data.result},async picking(t){const s={Authorization:"Token \t"+ot.token},e=this.url+"/app/v1/picking/",a=await at().post(e,{picking_id:t},{headers:s}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return a.data.result},async scan_product_with_picking(t){const s={Authorization:"Token \t"+ot.token},e=this.url+"/app/v1/scan_product_with_picking/",a=await at().post(e,{payload:t},{headers:s}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return a.data.result},async pickingForceComplete(t){const s={Authorization:"Token \t"+ot.token},e=this.url+"/app/v1/picking_force_complete/",a=await at().post(e,{picking_id:t},{headers:s}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return a.data.result},async get_stock_move(t){const s={Authorization:"Token \t"+ot.token},e=this.url+"/app/v1/get_stock_move/",a=await at().post(e,{stock_move_id:t},{headers:s}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return a.data.result},async get_or_create_package(t){const s={Authorization:"Token \t"+ot.token},e=this.url+"/app/v1/get_or_create_package/",a=await at().post(e,{pack_name:t},{headers:s}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return a.data.result},async stockMoveLineDone(t){const s={Authorization:"Token \t"+ot.token},e=this.url+"/app/v1/stock_move_line_done/",a=await at().post(e,t,{headers:s}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return a.data.result}},data:{errors:!1}},nt={name:"Picking",data:function(){return{stock_moves:!1,packman_show:!0,user_data:ot,pick:!1,scanner:""}},watch:{async scanner(){console.log(this.scanner);const t={picking:this.pick.id,barcode:this.scanner},s=await it.methods.scan_product_with_picking(t);this.$router.push({name:"StockMove",params:{sm:s.stock_move.id}})}},async mounted(){this.user_data||await this.$router.push("/"),this.pk=this.$route.params.pk,this.packman_show=!0;const t=await it.methods.picking(this.pk);this.stock_moves=t.stock_moves,this.pick=t.picking,this.packman_show=!1,this.$nextTick((()=>this.$refs.input.focus()))},methods:{async focusOver(){this.$nextTick((()=>this.$refs.input.focus()))},async complete(){console.log("complete");const t=await it.methods.pickingForceComplete(this.pk);!0===t.status&&await this.$router.push({name:"PickingType",params:{pick_type:this.pick.picking_type_id[0]}})}}};const ct=(0,d.Z)(nt,[["render",st]]);var rt=ct;const lt={key:0,class:"row"},ut={class:"col"},dt={class:"card"},At={class:"card-body"},pt={class:"card-title primary"},mt={class:"text-primary"},kt={class:"col"},_t={class:"card"},vt={class:"card-body"},ht={class:"media"},yt=(0,o._)("i",{class:"ti-file icon-sm align-self-center mr-3"},null,-1),gt={class:"media-body"},wt={class:"mb-1 text-primary"},ft={class:"text-primary float-right",style:{color:"yellow"}},bt={class:"mb-0 text-muted"},xt=(0,o._)("b",null,"Shop:",-1),qt={class:"mb-0 text-muted"},zt=(0,o._)("b",null,"Dest shelve:",-1),St={class:"mb-0 text-muted"},Ut=(0,o._)("b",null," Date:",-1);function Jt(t,s,e,a,i,n){const c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[t.pt?((0,o.wg)(),(0,o.iD)("div",lt,[(0,o._)("div",ut,[(0,o._)("div",dt,[(0,o._)("div",At,[(0,o._)("h4",pt,(0,k.zw)(t.pt.name),1),(0,o._)("p",mt,"Location # "+(0,k.zw)(t.pt.warehouse_id[1]),1)])])])])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.pickings,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"row",key:t.id},[(0,o._)("div",kt,[(0,o.Wm)(c,{to:{name:"Picking",params:{pk:t.id}}},{default:(0,o.w5)((()=>[(0,o._)("div",_t,[(0,o._)("div",vt,[(0,o._)("div",ht,[yt,(0,o._)("div",gt,[(0,o._)("h6",wt,[(0,o._)("b",null,"Picking "+(0,k.zw)(t.name),1),(0,o._)("b",ft,(0,k.zw)(t.state),1)]),(0,o._)("p",bt,[xt,(0,o.Uk)(" "+(0,k.zw)(t.partner_id[1]),1)]),(0,o._)("p",qt,[zt,(0,o.Uk)(" "+(0,k.zw)(t.location_dest_id[1]),1)]),(0,o._)("p",St,[Ut,(0,o.Uk)(" "+(0,k.zw)(t.scheduled_date),1)])])])])])])),_:2},1032,["to"])])])))),128))],64)}var Ot={name:"Pickings",data:function(){return{pickings:!1,pt:!1,packman_show:!0,user_data:ot}},async mounted(){this.user_data||await this.$router.push("/"),this.pick_type=this.$route.params.pick_type,this.packman_show=!0;const t=await it.methods.pickings(this.pick_type);this.pickings=t.pickings,this.pt=t.picking_type,this.packman_show=!1}};const Tt=(0,d.Z)(Ot,[["render",Jt]]);var Nt=Tt;const Dt={key:0,class:"row"},Et={class:"col"},Kt={class:"card"},Ft={class:"card-body"},Pt={class:"card-title"},Wt={key:0},Ht=["src"],Qt={key:1},Bt=(0,o._)("img",{src:_,alt:"sample",class:"rounded mw-100"},null,-1),jt=[Bt],Xt={class:"text-primary align-text-top"},Ct={key:1,class:"row"},Zt={class:"col"},Lt={class:"card bg-warning d-flex align-items-center"},Vt={class:"card-body"},Rt={class:"d-flex flex-row align-items-center"},Mt={key:2,class:"row"},Yt={class:"col"},It={key:0,class:"card"},Gt={class:"card-body"},$t={class:"input-group"},ts={class:"input-group-append"},ss=(0,o._)("b",null,"-",-1),es=[ss],as={class:"input-group-append"},os=(0,o._)("b",null,"+",-1),is=[os],ns=(0,o._)("div",null,null,-1),cs={key:3,class:"row"},rs={key:0,class:"card form-control"},ls={class:"card-body"},us={class:"input-group"},ds=(0,o._)("b",null,"Continue",-1),As=[ds],ps={key:4,class:"row"},ms={class:"card form-control"},ks={class:"card-body"},_s=(0,o._)("h4",{class:"card-title"},"Item history",-1),vs={class:"bullet-line-list"},hs=(0,o.Uk)(" Pack:"),ys={key:0,class:"badge badge-success badge-pill"},gs={key:1},ws={class:"text-muted mb-4"},fs=(0,o._)("i",{class:"ti-time"},null,-1),bs={class:"row"};function xs(t,s,e,i,n,c){return(0,o.wg)(),(0,o.iD)(o.HY,null,[t.stock_move?((0,o.wg)(),(0,o.iD)("div",Dt,[(0,o._)("div",Et,[(0,o._)("div",Kt,[(0,o._)("div",Ft,[(0,o._)("div",Pt,[(0,o._)("h4",null,(0,k.zw)(t.stock_move.product_id.name)+": "+(0,k.zw)(t.stock_move.product_id.default_code),1)]),t.stock_move.product_id.url_image?((0,o.wg)(),(0,o.iD)("div",Wt,[(0,o._)("img",{src:t.stock_move.product_id.url_image,alt:"sample",class:"rounded mw-100"},null,8,Ht)])):(0,o.kq)("",!0),t.stock_move.product_id.url_image?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Qt,jt)),(0,o._)("b",null,[(0,o._)("h4",Xt," Barcode: "+(0,k.zw)(t.stock_move.product_id.barcode),1)])])])])])):(0,o.kq)("",!0),t.current_step?((0,o.wg)(),(0,o.iD)("div",Ct,[(0,o._)("div",Zt,[(0,o._)("div",Lt,[(0,o._)("div",Vt,[(0,o._)("div",Rt,[((0,o.wg)(),(0,o.iD)("h6",{key:t.current_step,class:"text-white"},(0,k.zw)(t.current_step.display_name)+" "+(0,k.zw)(t.stock_move[t.current_step.name].name),1))])])])])])):(0,o.kq)("",!0),t.current_step?((0,o.wg)(),(0,o.iD)("div",Mt,[(0,o._)("div",Yt,["qty"===t.current_step.rule?((0,o.wg)(),(0,o.iD)("div",It,[(0,o._)("div",Gt,[(0,o._)("div",$t,[(0,o._)("div",ts,[(0,o._)("button",{onClick:s[0]||(s[0]=(...t)=>c.buttonMinus&&c.buttonMinus(...t)),class:"btn btn-sm btn-gradient-primary form-control",type:"button"},es)]),(0,o.wy)((0,o._)("input",{type:"number",class:"input-move form-control",min:"0",max:"{{stock_move.product_qty}}","onUpdate:modelValue":s[1]||(s[1]=s=>t.qty=s)},null,512),[[a.nr,t.qty,void 0,{number:!0}]]),(0,o._)("div",as,[(0,o._)("button",{onClick:s[2]||(s[2]=(...t)=>c.buttonPlus&&c.buttonPlus(...t)),class:"btn btn-sm btn-gradient-primary form-control",type:"button"},is),ns])])])])):(0,o.kq)("",!0)])])):(0,o.kq)("",!0),t.stock_move?((0,o.wg)(),(0,o.iD)("div",cs,["qty"===t.current_step.rule?((0,o.wg)(),(0,o.iD)("div",rs,[(0,o._)("div",ls,[(0,o._)("div",us,[(0,o._)("button",{onClick:s[3]||(s[3]=(...t)=>c.manualNextStep&&c.manualNextStep(...t)),class:"btn btn-lg btn-gradient-success form-control",type:"button"},As)])])])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),t.stock_move.move_line_ids?((0,o.wg)(),(0,o.iD)("div",ps,[(0,o._)("div",ms,[(0,o._)("div",ks,[_s,(0,o._)("ul",vs,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.stock_move.move_line_ids,(t=>((0,o.wg)(),(0,o.iD)("li",{key:t.id},[(0,o._)("h6",null,"From: "+(0,k.zw)(t.location_id[1])+" to: "+(0,k.zw)(t.location_dest_id[1]),1),(0,o._)("p",null,"Qty: "+(0,k.zw)(t.qty_done),1),hs,t.result_package_id?((0,o.wg)(),(0,o.iD)("div",ys,(0,k.zw)(t.result_package_id[1]),1)):(0,o.kq)("",!0),t.write_uid?((0,o.wg)(),(0,o.iD)("p",gs,"User: "+(0,k.zw)(t.write_uid[1]),1)):(0,o.kq)("",!0),(0,o._)("p",ws,[fs,(0,o.Uk)(" "+(0,k.zw)(t.write_date),1)])])))),128))])])])])):(0,o.kq)("",!0),(0,o._)("div",bs,[(0,o.wy)((0,o._)("input",{ref:"input",onFocusout:s[4]||(s[4]=t=>c.focusOver()),class:"scanner",type:"text","onUpdate:modelValue":s[5]||(s[5]=s=>t.scanner=s)},null,544),[[a.nr,t.scanner]])])],64)}var qs={name:"StockMove",data:function(){return{stock_move:!1,packman_show:!0,user_data:ot,scanner:void 0,qty:0,min:0,max:999,steps:void 0,current_step:void 0}},watch:{async scanner(){if(console.log("before action:"+this.scanner),this.scanner){if("result_package_id"===this.current_step["name"]){const t=await it.methods.get_or_create_package(this.scanner);return this.stock_move.result_package_id=t.pack,this.current_step["status"]=!0,this.setCurrentStep(),console.log(t),console.log("set: undefined"),void(this.scanner=void 0)}const t=this.stock_move[this.current_step["name"]].barcode;t==this.scanner&&(this.current_step["status"]=!0,"qty"===this.current_step.rule?this.qty++:this.setCurrentStep()),console.log("set: undefined"),this.scanner=void 0}},qty:function(){this.qty>this.max&&(this.qty--,console.log("--")),this.qty<this.min&&(this.qty++,console.log("++"))}},async mounted(){this.user_data||await this.$router.push("/"),this.sm=this.$route.params.sm,this.packman_show=!0;const t=await it.methods.get_stock_move(this.sm);this.stock_move=t.stock_move,this.packman_show=!1,this.qty=t.stock_move.product_qty-t.stock_move.quantity_done,this.min=0,this.steps=t.stock_move.steps,this.setCurrentStep(),this.$nextTick((()=>this.$refs.input.focus()))},methods:{async focusOver(){this.$nextTick((()=>this.$refs.input.focus())),console.log("focus set")},async buttonPlus(){this.qty++,console.log("Input ++: ")},async manualNextStep(){this.current_step.status=!0,console.log("Manual step pass"),this.setCurrentStep()},async done(){console.log("Done");let t={picking_id:this.stock_move.picking_id,stock_move_id:this.stock_move.id,product_id:this.stock_move.product_id.id,location_id:this.stock_move.location_id.id,location_dest_id:this.stock_move.location_dest_id.id,quantity_done:this.qty,result_package_id:this.stock_move.result_package_id.id};const s=await it.methods.stockMoveLineDone(t);console.log(s),this.$router.push({name:"Picking",params:{pk:this.stock_move.picking_id}})},async setCurrentStep(){this.current_step=!1;for(let t in this.steps){let s=this.steps[t];if(!s["status"]){this.current_step=s,console.log("SET: ",s);break}}this.current_step||this.done()},async buttonMinus(){this.qty--,console.log("Input --: ")}}};const zs=(0,d.Z)(qs,[["render",xs]]);var Ss=zs;const Us={key:0,class:"row"},Js={class:"col"},Os={class:"card"},Ts={class:"card-body"},Ns={class:"card-title"},Ds={class:"text-primary",style:{color:"yellow"}},Es={class:"wrap"},Ks={class:"row"},Fs={class:"card"},Ps={class:"card-body"},Ws={class:"card-title"},Hs={class:"mb-1"},Qs={class:"text-primary float-right",style:{color:"yellow"}},Bs={class:"card-description"};function js(t,s,e,a,i,n){const c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[t.user_data?((0,o.wg)(),(0,o.iD)("div",Us,[(0,o._)("div",Js,[(0,o._)("div",Os,[(0,o._)("div",Ts,[(0,o._)("h4",Ns,"Пользователь: "+(0,k.zw)(t.user_data.user_data.fullname),1),(0,o._)("b",Ds,(0,k.zw)(t.user_data.user_data.store_title),1)])])])])):(0,o.kq)("",!0),(0,o._)("div",Es,[(0,o._)("div",Ks,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.picking_types,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"col-6",key:t.id},[(0,o.Wm)(c,{to:{name:"PickingType",params:{pick_type:t.id}}},{default:(0,o.w5)((()=>[(0,o._)("div",Fs,[(0,o._)("div",Ps,[(0,o._)("h5",Ws,[(0,o.Uk)((0,k.zw)(t.name),1),(0,o._)("span",Hs,[(0,o._)("b",Qs,(0,k.zw)(t.count_picking_ready),1)])]),(0,o._)("p",Bs,(0,k.zw)(t.description),1)])])])),_:2},1032,["to"])])))),128))])])],64)}var Xs={name:"Main",data:function(){return{user_data:ot,picking_types:!1,packman_show:!1}},async mounted(){this.user_data||await this.$router.push("/"),this.packman_show=!0;const t=await it.methods.mainView();this.picking_types=t.picking_types,this.packman_show=!1,console.log(this.user_data)}};const Cs=(0,d.Z)(Xs,[["render",js]]);var Zs=Cs,Ls=e.p+"img/qr-kod.859eceec.png";const Vs={key:0,class:"content-wrapper"},Rs={class:"row"},Ms=(0,o.uE)('<div class="col-md-4 grid-margin stretch-card"><div class="card"><div class="card-body"><div class="d-sm-flex flex-row flex-wrap text-center text-sm-left align-items-center"><img src="'+Ls+'" style="max-height:1000px;" class="img-lg rounded" alt="profile image"><div class="ml-sm-3"><h4 class="mb-0">Scan you personal barcode</h4></div></div></div></div></div>',1);function Ys(t,s,e,i,n,c){return"Login"===this.$route.name?((0,o.wg)(),(0,o.iD)("div",Vs,[(0,o._)("div",Rs,[(0,o.wy)((0,o._)("input",{ref:"input",onFocusout:s[0]||(s[0]=t=>c.focusOver()),class:"scanner",type:"text","onUpdate:modelValue":s[1]||(s[1]=s=>t.lavkach_token=s)},null,544),[[a.nr,t.lavkach_token]])]),Ms])):(0,o.kq)("",!0)}var Is={name:"Index",data:function(){return{results:[],user_data:ot,lavkach_token:null,authorized:!1,packman_show:!1,errors:!1}},methods:{async login(){await it.methods.login(this.lavkach_token),this.packman_show=!1,this.authorized=!0,await this.$router.push("/main")},async focusOver(){this.$nextTick((()=>this.$refs.input.focus()))}},watch:{lavkach_token:function(){console.log(this),this.login()}},async mounted(){this.$nextTick((()=>this.$refs.input.focus())),await it.methods.setUrl(this.$route.query.url),console.log("set url:"+this.$route.query.url)}};const Gs=(0,d.Z)(Is,[["render",Ys]]);var $s=Gs;const te=[{path:"/app/",name:"Login",component:$s},{path:"/picking/:pk",name:"Picking",component:rt},{path:"/stockmove/:sm",name:"StockMove",component:Ss},{path:"/pickingtype/:pick_type",name:"PickingType",component:Nt},{path:"/main",name:"Main",component:Zs}],se=(0,m.p7)({history:(0,m.PO)(),routes:te});var ee=se;(0,a.ri)(p).use(ee).mount("#app")}},s={};function e(a){var o=s[a];if(void 0!==o)return o.exports;var i=s[a]={exports:{}};return t[a](i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(s,a,o,i){if(!a){var n=1/0;for(u=0;u<t.length;u++){a=t[u][0],o=t[u][1],i=t[u][2];for(var c=!0,r=0;r<a.length;r++)(!1&i||n>=i)&&Object.keys(e.O).every((function(t){return e.O[t](a[r])}))?a.splice(r--,1):(c=!1,i<n&&(n=i));if(c){t.splice(u--,1);var l=o();void 0!==l&&(s=l)}}return s}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[a,o,i]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.p="/"}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var o,i,n=a[0],c=a[1],r=a[2],l=0;if(n.some((function(s){return 0!==t[s]}))){for(o in c)e.o(c,o)&&(e.m[o]=c[o]);if(r)var u=r(e)}for(s&&s(a);l<n.length;l++)i=n[l],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(u)},a=self["webpackChunklvue"]=self["webpackChunklvue"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(3015)}));a=e.O(a)})();
//# sourceMappingURL=app.a0001e89.js.map