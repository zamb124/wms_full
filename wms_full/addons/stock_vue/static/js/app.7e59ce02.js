(function(){"use strict";var t={1160:function(t,e,s){var o=s(9242),i=s(3396);const n={key:0},a=(0,i._)("div",{class:"blackout"},null,-1),r={class:"blackout-loader"};function c(t,e,s,o,c,l){const d=(0,i.up)("pacman-loader"),u=(0,i.up)("router-view"),p=(0,i.up)("notifications");return(0,i.wg)(),(0,i.iD)(i.HY,null,[t.packman_show?((0,i.wg)(),(0,i.iD)("span",n,[a,(0,i._)("span",r,[(0,i.Wm)(d,{loading:t.loading,color:t.color,size:t.size},null,8,["loading","color","size"])])])):(0,i.kq)("",!0),(0,i.Wm)(u),(0,i.Wm)(p,{wight:"100%"})],64)}var l=s(7279),d={name:"App",components:{PacmanLoader:l.Z},data:function(){return{packman_show:!1}}},u=s(89);const p=(0,u.Z)(d,[["render",c]]);var _=p,m=s(678),h=s(7139);const g={key:0,class:"row"},k={class:"col"},v={class:"card"},y={class:"card-body"},w={class:"card-title primary"},b={class:"text-primary"},f={class:"card-description"},x=(0,i._)("b",{class:"text-primary"},"Partner:",-1),S={key:1,class:"row"},D=(0,i.uE)('<div class="col"><div class="card bg-warning d-flex align-items-center"><div class="card-body" style="padding-top:5px;padding-bottom:5px;"><div class="d-flex flex-row align-items-center"><h6 class="text-white"> Scan product </h6></div></div></div></div>',1),z=[D],q={key:2},O={class:"col"},T={class:"card"},N={class:"card-body"},P={class:"media"},J={class:"media-body"},$={class:"row"},C={key:0,class:"col-3"},I=["src"],M={key:1,class:"col-3"},U=["src"],j={key:2,class:"col-3"},A=["src"],B={class:"col-9"},H={class:"mb-1 text-primary"},Y={class:"text-primary float-right",style:{color:"yellow"}},Z={class:"mb-0 text-muted"},L=(0,i._)("b",null,"From:",-1),F={class:"mb-0 text-muted"},K=(0,i._)("b",null,"To:",-1),W={class:"mb-0 text-muted"},E=(0,i._)("b",null,"State:",-1),V={key:3,class:"row"},Q={class:"card form-control"},G={class:"card-body"},R=(0,i._)("b",null,"Complete",-1),X=[R];function tt(t,e,s,o,n,a){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[a.picking?((0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("div",k,[(0,i._)("div",v,[(0,i._)("div",y,[(0,i._)("h4",w,(0,h.zw)(a.picking.name),1),(0,i._)("p",b,"Order from: "+(0,h.zw)(a.picking.location_id.name)+" to: "+(0,h.zw)(a.picking.location_dest_id.name),1),(0,i._)("p",f,[x,(0,i.Uk)(" "+(0,h.zw)(a.picking.partner_id.name),1)])])])])])):(0,i.kq)("",!0),a.picking?((0,i.wg)(),(0,i.iD)("div",S,z)):(0,i.kq)("",!0),a.picking.move_lines?((0,i.wg)(),(0,i.iD)("span",q,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.picking.move_lines,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"row",key:t.id},[(0,i._)("div",O,[t.busy?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(r,{key:0,to:{name:"StockMove",params:{sm:t.id}}},{default:(0,i.w5)((()=>[(0,i._)("div",T,[(0,i._)("div",N,[(0,i._)("div",P,[(0,i._)("div",J,[(0,i._)("div",$,[t.product_id.image_128?((0,i.wg)(),(0,i.iD)("div",C,[(0,i._)("img",{src:t.product_id.image_128,class:"mw-100",alt:"image"},null,8,I)])):t.product_id.url_image?((0,i.wg)(),(0,i.iD)("div",M,[(0,i._)("img",{src:t.product_id.url_image,class:"mw-100",alt:"image"},null,8,U)])):((0,i.wg)(),(0,i.iD)("div",j,[(0,i._)("img",{src:"/stock_vue/static/img/no_image.jpeg",class:"mw-100",alt:"image"},null,8,A)])),(0,i._)("div",B,[(0,i._)("h6",H,[(0,i._)("b",null,"Product: "+(0,h.zw)(t.product_id.name),1),(0,i._)("b",Y,(0,h.zw)(t.state),1)]),(0,i._)("p",Z,[L,(0,i.Uk)(" "+(0,h.zw)(t.location_id.name),1)]),(0,i._)("p",F,[K,(0,i.Uk)(" "+(0,h.zw)(t.location_dest_id.name),1)]),(0,i._)("p",W,[E,(0,i.Uk)(" done "+(0,h.zw)(t.quantity_done)+" out of "+(0,h.zw)(t.product_qty),1)])])])])])])])])),_:2},1032,["to"]))])])))),128))])):(0,i.kq)("",!0),a.picking?((0,i.wg)(),(0,i.iD)("div",V,[(0,i._)("div",Q,[(0,i._)("div",G,[(0,i._)("button",{onClick:e[0]||(e[0]=(...t)=>a.complete&&a.complete(...t)),class:"btn btn-lg btn-gradient-success form-control",type:"button"},X)])])])):(0,i.kq)("",!0)],64)}var et=s(6265),st=s.n(et),ot=s(65);const it=(0,ot.MT)({state:{orders:[]},mutations:{ordersUpdate(t,e){if(e)for(let s in e)"assigned"===e[s].state?(t.orders[s]=e[s],console.log("Обновляем пикинг #"+s)):t.orders[s]&&(delete t.orders[s],console.log("Удаляем пикинг #"+s))}},getters:{ordersByTypeId:t=>e=>(console.log("Pycking tyoe =>"+e),t.orders.filter((t=>t.picking_type_id.id==e))),ordersById:t=>e=>(console.log("Picking =>"+e),t.orders[e]),stockMoveById:t=>e=>(console.log("Stock move =>"+e),t.orders[e["pk"]]["move_lines"][e["sm"]]),stockMoveByBarcode:t=>e=>{console.log("Picking barcode move =>"+e);const s=t.orders[e["pk"]].move_lines;for(let t in s){let o=s[t];if(o.barcode===e["code"])return o}return!1}}});var nt=it;let at=!1;var rt={url:!1,name:"lavkach_api",pollCursor:!1,methods:{async setUrl(t){this.url=t},async login(t){const e={Authorization:"Token \tdsadsadas"},s=this.url+"/app/v1/login/",o=await st().post(s,{qr:t},{headers:e}).catch((function(t){o.errors=t.toJSON(),console.log(t.toJSON())}));return o.data.result.user_data&&(at=o.data.result),o.data.result},async mainView(){const t={Authorization:"Token \t"+at.token},e=this.url+"/app/v1/main/",s=await st().post(e,{},{headers:t}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return s.data.result},async pickings(t){const e={Authorization:"Token \t"+at.token},s=this.url+"/app/v1/pickings/",o=await st().post(s,{picking_type:t},{headers:e}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return o.data.result},async picking(t){const e={Authorization:"Token \t"+at.token},s=this.url+"/app/v1/picking/",o=await st().post(s,{picking_id:t},{headers:e}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return o.data.result},async scan_product_with_picking(t){const e={Authorization:"Token \t"+at.token},s=this.url+"/app/v1/scan_product_with_picking/",o=await st().post(s,{payload:t},{headers:e}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return o.data.result},async pickingForceComplete(t){const e={Authorization:"Token \t"+at.token},s=this.url+"/app/v1/picking_force_complete/",o=await st().post(s,{picking_id:t},{headers:e}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return o.data.result},async get_stock_move(t){const e={Authorization:"Token \t"+at.token},s=this.url+"/app/v1/get_stock_move/",o=await st().post(s,{stock_move_id:t},{headers:e}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return o.data.result},async get_or_create_object(t){const e={Authorization:"Token \t"+at.token},s=this.url+"/app/v1/get_or_create_object/",o=await st().post(s,t,{headers:e}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return o.data.result},async stockMoveLineDone(t){const e={Authorization:"Token \t"+at.token},s=this.url+"/app/v1/stock_move_line_done/",o=await st().post(s,t,{headers:e}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));return o.data.result},pullerInterval:5e3,async poll(t){try{this.url||(this.url=t);const e={Authorization:"Token \t"+at.token},s=this.url+"/app/v1/stock_poll/",o=await st().post(s,{cursor:this.pollCursor},{headers:e}).catch((function(t){this.data.errors=t.toJSON(),console.log(t.toJSON())}));this.pullerInterval=1,nt.commit("ordersUpdate",o.data.result.orders),await new Promise((t=>setTimeout(t,5e3))),await this.poll()}catch(e){const t=this.pullerInterval;this.pullerInterval=this.pullerInterval<16?2*this.pullerInterval:16,setTimeout(await this.poll,t,this.url),console.log(e)}}},data:{errors:!1}},ct={name:"scanMixin",components:{},data:function(){return{lastcode:!1}},async mounted(){window.toJs=this.handleSignal},created(){this.$barcodeScanner.init(this.onBarcodeScanned)},methods:{async handleSignal(t){try{let e=t.split(' characters="'),s=e[1].split('"');this.lastcode=s[0],console.log("Scan from android: "+this.lastcode)}catch(e){this.lastcode=!1}},onBarcodeScanned(t){this.lastcode=t,console.log("Scan from keyboard: "+this.lastcode)}}};const lt=ct;var dt=lt,ut={name:"Picking",mixins:[dt],data:function(){return{packman_show:!0,scanner:""}},watch:{lastcode(t){const e={pk:this.pk,code:t},s=this.$store.getters.stockMoveByBarcode(e);s&!s.busy&&this.$router.push({name:"StockMove",params:{sm:s.id}}),console.log(s)}},async mounted(){this.pk=this.$route.params.pk},computed:{picking(){return this.$store.getters.ordersById(this.$route.params.pk)}},methods:{async complete(){console.log("complete");const t=await rt.methods.pickingForceComplete(this.pk);!0===t.status&&await this.$router.push("/main")}}};const pt=(0,u.Z)(ut,[["render",tt]]);var _t=pt;const mt={key:0,class:"row"},ht={class:"col"},gt={class:"card"},kt={class:"card-body"},vt={class:"card-title primary"},yt={key:1},wt={class:"col"},bt={class:"card"},ft={class:"card-body"},xt={class:"media"},St=(0,i._)("i",{class:"ti-mobile icon-sm align-self-center mr-3",style:{color:"white"}},null,-1),Dt={class:"media-body"},zt={class:"mb-1 text-primary"},qt={class:"text-primary float-right",style:{color:"yellow"}},Ot={class:"mb-0 text-muted"},Tt=(0,i._)("b",null,"Shop:",-1),Nt={class:"mb-0 text-muted"},Pt=(0,i._)("b",null,"Source shelve:",-1),Jt={class:"mb-0 text-muted"},$t=(0,i._)("b",null,"Dest shelve:",-1);function Ct(t,e,s,o,n,a){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[t.pick_type?((0,i.wg)(),(0,i.iD)("div",mt,[(0,i._)("div",ht,[(0,i._)("div",gt,[(0,i._)("div",kt,[(0,i._)("h4",vt,(0,h.zw)(t.pick_type.name),1)])])])])):(0,i.kq)("",!0),a.pickings?((0,i.wg)(),(0,i.iD)("span",yt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.pickings,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"row",key:e},[(0,i._)("div",wt,[(0,i.Wm)(r,{to:{name:"Picking",params:{pk:t.id}}},{default:(0,i.w5)((()=>[(0,i._)("div",bt,[(0,i._)("div",ft,[(0,i._)("div",xt,[St,(0,i._)("div",Dt,[(0,i._)("h6",zt,[(0,i._)("b",null,"Picking "+(0,h.zw)(t.name),1),(0,i._)("b",qt,(0,h.zw)(t.state),1)]),(0,i._)("p",Ot,[Tt,(0,i.Uk)(" "+(0,h.zw)(t.partner_id.name),1)]),(0,i._)("p",Nt,[Pt,(0,i.Uk)(" "+(0,h.zw)(t.location_id.name),1)]),(0,i._)("p",Jt,[$t,(0,i.Uk)(" "+(0,h.zw)(t.location_dest_id.name),1)])])])])])])),_:2},1032,["to"])])])))),128))])):(0,i.kq)("",!0)],64)}var It={name:"Pickings",data:function(){return{ptId:!1,packman_show:!0,pick_type:!1}},async mounted(){this.ptId=this.$route.params.pick_type,this.pickings.length&&(this.pick_type=this.pickings[0].picking_type_id,console.log("1"))},computed:{pickings(){return this.$store.getters.ordersByTypeId(this.ptId)}}};const Mt=(0,u.Z)(It,[["render",Ct]]);var Ut=Mt;const jt={key:0,class:"row"},At={class:"col"},Bt={class:"card"},Ht={class:"card-body",style:{"padding-bottom":"0px","padding-top":"5px"}},Yt={key:0},Zt=["src"],Lt={key:1},Ft=["src"],Kt={key:2},Wt=["src"],Et={class:"card-title-my"},Vt={key:1,class:"row"},Qt={class:"col"},Gt={class:"card bg-warning d-flex align-items-center"},Rt={class:"card-body",style:{"padding-top":"5px","padding-bottom":"5px"}},Xt={class:"d-flex flex-row align-items-center"},te={key:2,class:"row"},ee={key:0,class:"col"},se={class:"card form-control"},oe={key:0},ie={class:"input-group"},ne={class:"input-group-append"},ae=(0,i._)("b",null,"-",-1),re=[ae],ce={class:"input-group-append"},le=(0,i._)("b",null,"+",-1),de=[le],ue=(0,i._)("div",null,null,-1),pe={key:3,class:"row"},_e={class:"col"},me={class:"card form-control"},he={class:"row"},ge={class:"col-6",style:{"text-align":"center"}},ke=(0,i._)("span",null,[(0,i._)("i",{class:"ti-back-left primary"})],-1),ve=[ke],ye={class:"col-6"},we={key:0,class:"input-group"},be=(0,i._)("b",null,[(0,i._)("i",{class:"ti-save"})],-1),fe=[be],xe={key:4,class:"row"},Se={class:"col"},De={class:"card form-control"},ze={class:"card-body"},qe=(0,i._)("h4",{class:"card-title"},"Item history",-1),Oe={class:"bullet-line-list"},Te=(0,i.Uk)(" Pack: "),Ne={key:0,class:"badge badge-success badge-pill"},Pe={key:1},Je={class:"text-muted mb-4"},$e=(0,i._)("i",{class:"ti-time"},null,-1);function Ce(t,e,s,n,a,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[r.stock_move?((0,i.wg)(),(0,i.iD)("div",jt,[(0,i._)("div",At,[(0,i._)("div",Bt,[(0,i._)("div",Ht,[r.stock_move.product_id.image_128?((0,i.wg)(),(0,i.iD)("div",Yt,[(0,i._)("img",{src:r.stock_move.product_id.image_128,alt:"sample",class:"img-lg rounded"},null,8,Zt)])):r.stock_move.product_id.url_image?((0,i.wg)(),(0,i.iD)("div",Lt,[(0,i._)("img",{src:r.stock_move.product_id.url_image,alt:"sample",class:"img-lg rounded"},null,8,Ft)])):((0,i.wg)(),(0,i.iD)("div",Kt,[(0,i._)("img",{src:"/stock_vue/static/img/no_image.jpeg",alt:"sample",class:"img-lg rounded"},null,8,Wt)])),(0,i._)("h3",Et,(0,h.zw)(r.stock_move.product_id.name)+": "+(0,h.zw)(r.stock_move.product_id.default_code),1)])])])])):(0,i.kq)("",!0),t.current_step?((0,i.wg)(),(0,i.iD)("div",Vt,[(0,i._)("div",Qt,[(0,i._)("div",Gt,[(0,i._)("div",Rt,[(0,i._)("div",Xt,[((0,i.wg)(),(0,i.iD)("h6",{key:t.current_step,class:"text-white"},(0,h.zw)(t.current_step.display_name)+" "+(0,h.zw)(r.stock_move[t.current_step.name].name),1))])])])])])):(0,i.kq)("",!0),t.current_step?((0,i.wg)(),(0,i.iD)("div",te,[t.current_step.input?((0,i.wg)(),(0,i.iD)("div",ee,[(0,i._)("div",se,[["integer","float"].indexOf(t.current_step.input_type)?((0,i.wg)(),(0,i.iD)("div",oe,[(0,i._)("div",ie,[(0,i._)("div",ne,[(0,i._)("button",{style:{width:"70px","border-radius":"15px"},onClick:e[0]||(e[0]=(...t)=>r.buttonMinus&&r.buttonMinus(...t)),class:"btn btn-sm btn-gradient-primary form-control",type:"button"},re)]),(0,i.wy)((0,i._)("input",{style:{"border-radius":"40px"},type:"number",class:"input-move form-control","onUpdate:modelValue":e[1]||(e[1]=e=>r.stock_move[t.current_step.input]=e)},null,512),[[o.nr,r.stock_move[t.current_step.input],void 0,{number:!0}]]),(0,i._)("div",ce,[(0,i._)("button",{style:{width:"70px","border-radius":"15px"},onClick:e[2]||(e[2]=(...t)=>r.buttonPlus&&r.buttonPlus(...t)),class:"btn btn-sm btn-gradient-primary form-control",type:"button"},de),ue])])])):(0,i.kq)("",!0)])])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),t.current_step?((0,i.wg)(),(0,i.iD)("div",pe,[(0,i._)("div",_e,[(0,i._)("div",me,[(0,i._)("div",he,[(0,i._)("div",ge,[(0,i._)("button",{type:"button",onClick:e[3]||(e[3]=(...t)=>r.reverseStep&&r.reverseStep(...t)),style:{height:"50px"},class:"btn btn-lg btn-warning"},ve)]),(0,i._)("div",ye,[t.current_step.input?((0,i.wg)(),(0,i.iD)("div",we,[(0,i._)("button",{style:{height:"50px",right:"0px"},onClick:e[4]||(e[4]=(...t)=>r.manualNextStep&&r.manualNextStep(...t)),class:"btn btn-lg btn-success",type:"button"},fe)])):(0,i.kq)("",!0)])])])])])):(0,i.kq)("",!0),r.stock_move.move_line_ids?((0,i.wg)(),(0,i.iD)("div",xe,[(0,i._)("div",Se,[(0,i._)("div",De,[(0,i._)("div",ze,[qe,(0,i._)("ul",Oe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.stock_move.move_line_ids,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.id},[(0,i._)("h6",null,"From: "+(0,h.zw)(t.location_id.name)+" to: "+(0,h.zw)(t.location_dest_id.name),1),(0,i._)("p",null,"Qty: "+(0,h.zw)(t.qty_done),1),Te,t.result_package_id?((0,i.wg)(),(0,i.iD)("div",Ne,(0,h.zw)(t.result_package_id.name),1)):(0,i.kq)("",!0),t.write_uid?((0,i.wg)(),(0,i.iD)("p",Pe,"User: "+(0,h.zw)(t.write_uid.name),1)):(0,i.kq)("",!0),(0,i._)("p",Je,[$e,(0,i.Uk)(" "+(0,h.zw)(t.write_date),1)])])))),128))])])])])])):(0,i.kq)("",!0)],64)}var Ie={name:"StockMove",mixins:[dt],data:function(){return{qtyToDo:!1,steps:void 0,prev_step:void 0,current_step:void 0}},watch:{stock_move:{handler(t){t&&(this.qtyToDo=t.product_qty-t.quantity_done,t.qty_done>this.qtyToDo&&(t.qty_done=this.qtyToDo),t.qty_done<0&&(t.qty_done=0))},deep:!0},async lastcode(t){if(console.log("before action:"+t),t){const e=this.stock_move[this.current_step.name];if(t===e.barcode)this.current_step.input?this.stock_move[this.current_step.input]++:(this.current_step.status=!0,this.setCurrentStep(),console.log(this.current_step));else if(this.current_step.can_obj_change){const e={scan_value:t,object_name:this.current_step.name,can_obj_create:this.current_step.can_obj_create},s=await rt.methods.get_or_create_object(e);this.stock_move[this.current_step.name]=s[this.current_step.name],this.current_step.status=!0,console.log(s),this.setCurrentStep()}}this.lastcode=void 0}},async mounted(){this.packman_show=!1,this.steps=this.stock_move.steps,this.setCurrentStep(),console.log(this.current_step)},computed:{stock_move(){const t={pk:this.$route.params.pk,sm:this.$route.params.sm};return this.$store.getters.stockMoveById(t)}},methods:{async buttonPlus(){this.stock_move[this.current_step.input]++,console.log("Input ++: ")},async buttonMinus(){this.stock_move[this.current_step.input]--,console.log("Input --: ")},async manualNextStep(){this.current_step.status=!0,console.log("Manual step pass"),this.setCurrentStep()},async done(){this.stock_move.busy=!0,console.log("Done");let t={picking_id:this.stock_move.picking_id,stock_move_id:this.stock_move.id,product_id:this.stock_move.product_id.id,location_id:this.stock_move.location_id.id,location_dest_id:this.stock_move.location_dest_id.id,qty_done:this.stock_move.qty_done,result_package_id:this.stock_move.result_package_id.id};const e=await rt.methods.stockMoveLineDone(t);console.log(e),this.$router.push({name:"Picking",params:{pk:this.stock_move.picking_id}})},async setCurrentStep(){this.current_step=!1;for(let t in this.steps){let e=this.steps[t];if(!e["status"]){this.current_step=e,console.log("SET: ",e);break}}this.current_step||this.done()},async reverseStep(){for(let t in this.steps){let e=this.steps[t];e.id===this.current_step.id&&(this.steps[t-1]?(this.current_step=this.steps[t-1],this.current_step.status=!1):this.$notify({type:"warn",title:"Error",text:"Changes cannot be rolled back"}))}}}};const Me=(0,u.Z)(Ie,[["render",Ce]]);var Ue=Me;const je={key:0,class:"row"},Ae={class:"col"},Be={class:"card"},He={class:"card-body"},Ye={class:"card-title"},Ze={class:"text-primary",style:{color:"yellow"}},Le={class:"wrap"},Fe={class:"row"},Ke={class:"card"},We={class:"card-body"},Ee={class:"card-title"},Ve={class:"mb-1"},Qe={class:"text-primary float-right",style:{color:"yellow"}},Ge={class:"card-description"};function Re(t,e,s,o,n,a){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[t.user_data?((0,i.wg)(),(0,i.iD)("div",je,[(0,i._)("div",Ae,[(0,i._)("div",Be,[(0,i._)("div",He,[(0,i._)("h4",Ye,"Пользователь: "+(0,h.zw)(t.user_data.user_data.fullname),1),(0,i._)("b",Ze,(0,h.zw)(t.user_data.user_data.store_title),1)])])])])):(0,i.kq)("",!0),(0,i._)("div",Le,[(0,i._)("div",Fe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.picking_types,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-6",key:t.id},[(0,i.Wm)(r,{to:{name:"PickingType",params:{pick_type:t.id}}},{default:(0,i.w5)((()=>[(0,i._)("div",Ke,[(0,i._)("div",We,[(0,i._)("h5",Ee,[(0,i.Uk)((0,h.zw)(t.name),1),(0,i._)("span",Ve,[(0,i._)("b",Qe,(0,h.zw)(t.count_picking_ready),1)])]),(0,i._)("p",Ge,(0,h.zw)(t.description),1)])])])),_:2},1032,["to"])])))),128))])])],64)}var Xe={name:"Main",data:function(){return{user_data:at,picking_types:!1,packman_show:!1,orders:this.$store.state.orders}},async mounted(){this.packman_show=!0;const t=await rt.methods.mainView();this.picking_types=t.picking_types,this.packman_show=!1,await rt.methods.poll(),console.log(this.orders)}};const ts=(0,u.Z)(Xe,[["render",Re]]);var es=ts;const ss={key:0,class:"content-wrapper"},os={class:"col-md-4 grid-margin stretch-card"},is={class:"card"},ns={class:"card-body"},as={class:"d-sm-flex flex-row flex-wrap text-center text-sm-left align-items-center"},rs=["src"],cs=(0,i._)("div",{class:"ml-sm-3"},[(0,i._)("h4",{class:"mb-0"},"Scan you personal barcode")],-1),ls=(0,i._)("div",null,null,-1);function ds(t,e,s,o,n,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,["Login"===this.$route.name?((0,i.wg)(),(0,i.iD)("div",ss,[(0,i._)("div",os,[(0,i._)("div",is,[(0,i._)("div",ns,[(0,i._)("div",as,[(0,i._)("img",{src:"/stock_vue/static/img/qr-kod.png",style:{"max-height":"1000px"},class:"img-lg rounded",alt:"profile image"},null,8,rs),cs])])])])])):(0,i.kq)("",!0),ls],64)}var us={name:"Index",mixins:[dt],components:{},data:function(){return{errors:!1}},async mounted(){await rt.methods.setUrl(this.$route.query.url),console.log("set url:"+this.$route.query.url)},methods:{async login(t){const e=await rt.methods.login(t);console.log(e),e.user_data?this.$router.push("/main"):this.$notify({type:"warn",title:"Not found",text:"User not found by barcode: "+this.lastcode})}},watch:{lastcode(){this.login(this.lastcode)}}};const ps=(0,u.Z)(us,[["render",ds]]);var _s=ps;const ms=[{path:"/app/",name:"Login",component:_s},{path:"/pickingtype/:pick_type/picking/:pk",name:"Picking",component:_t},{path:"/pickingtype/:pick_type/picking/:pk/stockmove/:sm",name:"StockMove",component:Ue},{path:"/pickingtype/:pick_type",name:"PickingType",component:Ut},{path:"/main",name:"Main",component:es}],hs=(0,m.p7)({history:(0,m.PO)(),routes:ms});var gs=hs,ks=s(8857),vs=s.n(ks),ys=s(2636);const ws=(0,o.ri)(_);let bs={sound:!0,soundSrc:"/stock_vue/static/beep.mp3",sensitivity:100,requiredAttr:!1,controlSequenceKeys:["NumLock","Clear"],callbackAfterTimeout:!0};ws.use(ys.Z),ws.use(nt),ws.use(gs),ws.use(vs(),bs),ws.mount("#app")}},e={};function s(o){var i=e[o];if(void 0!==i)return i.exports;var n=e[o]={exports:{}};return t[o](n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,o,i,n){if(!o){var a=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],n=t[d][2];for(var r=!0,c=0;c<o.length;c++)(!1&n||a>=n)&&Object.keys(s.O).every((function(t){return s.O[t](o[c])}))?o.splice(c--,1):(r=!1,n<a&&(a=n));if(r){t.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[o,i,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,n,a=o[0],r=o[1],c=o[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(c)var d=c(s)}for(e&&e(o);l<a.length;l++)n=a[l],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},o=self["webpackChunklvue"]=self["webpackChunklvue"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(1160)}));o=s.O(o)})();
//# sourceMappingURL=app.7e59ce02.js.map